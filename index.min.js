(()=>{"use strict";class t{static#t=[];get getData(){return t.#t}pushData(e){t.#t.push(e)}findElement(e){return t.#t.findIndex((t=>t.id===e))}deleteElement(e){t.#t.splice(e,1)}convertElement(e,n){t.#t.splice(e,1,n)}}const e=new t;async function n(){const t=document.querySelector("#balance"),n=e.getData.reduce(((t,e)=>t+Number(e.amount)),0);t.textContent=n.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}const a=new t;function c(t){const e=function(t){const e=document.createElement("div");return e.classList.add("transaction"),e.id=`transaction-${t}`,e}(t.id),c=function(t){const e=document.createElement("span");return e.classList.add("transaction-title"),e.textContent=t,e}(t.name),o=function(t){const e=document.createElement("span"),n=Number(t).toLocaleString("pt-BR",{style:"currency",currency:"BRL"});return t>0?(e.textContent=`${n} C`,e.classList.add("transaction-amount","credit")):(e.textContent=`${n} D`,e.classList.add("transaction-amount","debit")),e}(t.amount),r=function(t){const e=document.createElement("button");return e.classList.add("edit-btn"),e.textContent="Editar",e.addEventListener("click",(async()=>{document.querySelector("#id").value=t.id,document.querySelector("#name").value=t.name,document.querySelector("#amount").value=t.amount})),e}(t),u=function(t){const e=document.createElement("button");return e.classList.add("delete-btn"),e.textContent="Excluir",e.addEventListener("click",(()=>{a.deleteElement(t),e.parentElement.remove(),n()})),e}(t.id);document.querySelector("#transactions").append(e),e.append(c,o,r,u)}class o{constructor(t,e){this.name=t,this.amount=e,this.id=o.anonymousId()}static anonymousId(){return Math.floor(100*Math.random())}}const r=new t;document.querySelector("form").addEventListener("submit",(async function(t){t.preventDefault();const e=document.querySelector("#id").value,a=document.querySelector("#name").value,u=document.querySelector("#amount").value;if(e>0){const t=r.findElement(Number(e)),n=new o(a,u);r.convertElement(t,n),console.log(r.getData),document.querySelector(`#transaction-${e}`).remove(),c(n)}else{const t=new o(a,u);r.pushData(t),c(t)}t.target.reset(),n()})),document.addEventListener("DOMContentLoaded",(async function(){r.getData.forEach(c),n()}))})();